#!/bin/sh

case "$1" in

-s)
	pon=$(pgrep pulseaudio)
	if [ -z "$pon" ] ;then
		killall alsamixer; (systemctl --user unmask pulseaudio.socket && systemctl --user start pulseaudio && notify-send "pulseaudio enabled")
	else
		killall pavucontrol; (systemctl --user mask pulseaudio.socket && systemctl --user stop pulseaudio && alsactl restore); notify-send "pulseaudio disabled"
	fi
	kill -35 $(pidof dwmblocks)
;;
-o)
	pon=$(pgrep pulseaudio)
	if [ -z "$pon" ] ;then
		killall alsamixer || xsetroot -name 'fsignal:4'
	else
		killall pavucontrol || xsetroot -name 'fsignal:5'
	fi
	kill -35 $(pidof dwmblocks)
;;
pulse)

	systemctl --user unmask pulseaudio.socket && systemctl --user start pulseaudio
;;
alsa)

	systemctl --user mask pulseaudio.socket && systemctl --user stop pulseaudio && alsactl restore
;;

esac
